<!DOCTYPE html>
<html lang="en">
<head>
  <title>Astrolo - Kuu</title>
  <link rel="stylesheet" href="stylez.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

<div id="varitausta">
  <h1>Astrolo</h1>
  <p>Tietoa avaruudesta</p> 
</div>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <div class="container-fluid">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="kokoava.html">Etusivu</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="merkurius.html">Merkurius</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="kuu.html">Kuu</a>
        </li>
      </ul>
    </div>
</nav>

<!-- kuvakaruselli -->
<div id="demo" class="carousel slide" data-bs-ride="carousel">

    <!-- Indicators/dots -->
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
      <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
      <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
      <button type="button" data-bs-target="#demo" data-bs-slide-to="3"></button>
    </div>
    
    <!-- The slideshow/carousel -->
    <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="merkurius2.jpg" alt="Merkurius" class="d-block" style="width:100%">
          <div class="carousel-caption">
            <h3 href="merkurius.html">Merkurius</h3>
            <p href="merkurius.html">Katso tietoa merkuriuksesta</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="teltta2.jpg" alt="Teltta vuoristossa tähtitaivaan alla" class="d-block" style="width:100%">
        </div>
        <div class="carousel-item">
          <img src="kuu2.jpg" alt="Kuu" class="d-block" style="width:100%">
          <div class="carousel-caption">
            <h3 href="kuu.html">Kuu</h3>
            <p href="kuu.html">Katso tietoa kuusta</p>
          </div>  
        </div>
      <div class="carousel-item">
          <img src="galaksi2.jpg" alt="Galaksi" class="d-block" style="width:100%">
      </div>
      </div>
    
    <!-- Left and right controls/icons -->
    <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>
  </div>

<div id="kuvaus">
    <h1>Kuu</h1>
    <p>Tällä sivulla kerrotaan tietoja Kuusta, joka on Maan ainoa luonnollinen kiertolainen ja aurinkokunnan viidenneksi suurin kuu.</p>
</div>

<div id="vastaus3">
<script>
fetch('https://m1umau.github.io/avaruus.JSON')
// Muunnetaan vastaus JSON muotoon
.then(function (response) { return response.json();
})

// Käsitellään muunnettu (eli JSON muotoinen) vastaus
.then(function (responseJson) {

// kutsutaan saa-funktiota saa(responseJson);
saa2(responseJson);
})

// Jos tuli jokin virhe
.catch(function (error) { document.getElementById("vastaus3").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
})

function saa2(data){
var teksti = ""; // määritellään muuttuja, johon tulostettava tieto kerätään

teksti = teksti + "<ul><p>Nimi: " + data.taivaankappale[1].nimi + "</li>";
teksti = teksti + "<br>Kiertoaika auringon ympäri: " + data.taivaankappale[1].kiertoaika + " vuorokautta";
teksti = teksti + "<br>Pyörähdysaika akselinsa ympäri: " + data.taivaankappale[1].pyorahdys + " vuorokautta</p></ul>";

teksti = teksti + "<h3>Koostumus</h3>";

teksti = teksti + "<ul>";
for (var i = 0; i < data.taivaankappale[1].koostumus.length; i++) {
    teksti = teksti + "<li>" + data.taivaankappale[1].koostumus[i].aine + ": " + data.taivaankappale[1].koostumus[i].prosentti + " prosenttia</li>";
}
teksti = teksti + "</ul>";

var kuva = data.kuva[1];
teksti = teksti + "<p><img id='kuukuva' src='" + kuva + "' alt='kuva' ></p>";

// teksti-muuttujan sisällön tulostus
document.getElementById("vastaus3").innerHTML = teksti;
}
</script>
</div>

</body>
</html>